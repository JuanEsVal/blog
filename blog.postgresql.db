CREATE TABLE "users" (
  "id" uuid PRIMARY KEY,
  "first_name" varchar NOT NULL,
  "last_name" varchar NOT NULL,
  "email" varchar UNIQUE NOT NULL,
  "password" varchar NOT NULL,
  "birthday" date NOT NULL,
  "gender" varchar,
  "role" varchar NOT NULL DEFAULT 'normal',
  "country" varchar,
  "phone" varchar NOT NULL,
  "status" varchar NOT NULL DEFAULT 'active',
  "is_validated" bool NOT NULL DEFAULT false
);

CREATE TABLE "posts" (
  "id" uuid PRIMARY KEY,
  "title" varchar NOT NULL,
  "content" text NOT NULL,
  "created_by" uuid NOT NULL,
  "category_id" int NOT NULL,
  "created_at" timestamp DEFAULT 'now()',
  "updated_at" timestamp DEFAULT 'now()'
);

CREATE TABLE "categories" (
  "category_id" serial PRIMARY KEY,
  "name" varchar NOT NULL
);

ALTER TABLE "posts" ADD FOREIGN KEY ("created_by") REFERENCES "users" ("id");

ALTER TABLE "posts" ADD FOREIGN KEY ("category_id") REFERENCES "categories" ("category_id");
